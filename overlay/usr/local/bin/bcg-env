#!/bin/sh

set -euo pipefail


#======================================================================================================================
# Check arguments.
#   1   Variable name
#   2   Variable value
#======================================================================================================================

[[ -z "${1-}" ]] && bcg-error "You must provide the name of the Environment variable." "bcg-env"
[[ -z "${2-}" ]] && bcg-error "You must provide the value for the Environment variable." "bcg-env"


#======================================================================================================================
# Add an environment variable to the S6 environment.
#======================================================================================================================

bcg-debug "${1}=${2}" "bcg-env"
printf "%s" ${2} > /var/run/s6/container_environment/${1} # use printf because echo adds a newline
