#!/bin/sh

set -euo pipefail


#======================================================================================================================
# Check arguments.
#   1   Variable name
#   2   Variable value
#======================================================================================================================

[[ -z "${1-}" ]] && bcg-error "bcg-env: You must provide the name of the Environment variable."
[[ -z "${2-}" ]] && bcg-error "bcg-env: You must provide the value for the Environment variable."


#======================================================================================================================
# Add an environment variable to the S6 environment.
#======================================================================================================================

bcg-debug "bcg-env: ${1}=${2}"
printf "%s" ${2} > /var/run/s6/container_environment/${1} # use printf because echo adds a newline
