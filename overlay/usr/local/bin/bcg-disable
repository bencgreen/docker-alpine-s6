#!/bin/sh

set -euo pipefail


#======================================================================================================================
# Check argument
#======================================================================================================================

[[ -z "${1-}" ]] && bcg-error "bcg-disable: You must provide the name of a service."


#======================================================================================================================
# Disable a supervised service.
#
# Arguments:
#   1   Service name
#======================================================================================================================

SVC="/var/run/s6/services/${1}"
[[ ! -e ${SVC} ]] && bcg-error "bcg-disable: Service ${1} does not exist."

bcg-echo "Disabling ${1} service..."
s6-svc -d "${SVC}"
bcg-done
