#!/usr/bin/with-contenv sh

set -euo pipefail


#======================================================================================================================
# Check argument
#======================================================================================================================

[[ -z "${1-}" ]] && bcg-error "bcg-env: You must provide the path to a file containing environment variables."


#======================================================================================================================
# Add contents of an environment file to the current container environment.
#
# Arguments:
#   1   Path to environment file
#======================================================================================================================

[[ ! -e "${1}" ]] && bcg-error "bcg-env: Environment file ${1} does not exist."

export $(cat $1 | xargs)
